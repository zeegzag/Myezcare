@{
    string documentFrom = ViewBag.DocumentFrom;

}



@*<head><base href="@ConfigSettings.SiteBaseURL" target="_self" /></head>*@
<div class="panel_row document-main-row documentMainRowMs">
    <div class="col-lg-12 ref_doc_lft RightCallShow" id="slider" data-ng-show="!SetFullScreen">
        <div class="action-button">
            <button class="btn btn-sm " id="SliderLeft" data-ng-click="SliderLeft()"><i class="fa fa-angle-left"></i></button>
            <button class="btn btn-sm RightCallShow" id="rightShow" data-ng-click="SliderRight()"><i class="fa fa-angle-right"></i></button>
        </div>
        <div id="WACInnerFrame" class="WACInnerFrame OreoInnerFrame">
            <div class="wacFlexBox__frameWrap___2Vq1y">
                <div class="wacFlexBox__mainWrap___FYzMN">
                    <div data-reactroot="" id="navpaneFocusZone" class="wacFlexBox__navWrap___3VaId width-100">
                        <div id="applicationWACNavigationPanel" class="wacFlexBox__wacNavPane___1LAv2">
                            <div id="oreoNavigationPane" style="height: 100%; z-index: 100; position: relative; order: 3" class="width-100">
                                <div class="app__navpaneWrapper____-Ut6">
                                    <div id="navPaneAppWrapper" class="app__navpaneComponent___1iDNB">
                                        <div class="navPane__snackBarAndNavPane___3lsyY">
                                            <div id="NavPane" class="navPane__navPane___2dxpY width-100">
                                                <div class="navPane__searchPaneOpenedHolder___3MB7n "></div>
                                                @*<span>*@
                                                <div id="MainArea" class="navPane__mainArea___2pxI4">
                                                    <div class="navPane__tabBackground___1VaC7"></div>
                                                    @*<div class="navPane__leftSideShadow___1o7Ak" data-ng-class="{no_border:!CollapseSectionList}"></div>
                                                        <div class="navPane__rightSideShadow___T0FK8"></div>*@

                                                    @if (1 == 2)
                                                    {
                                                        <div class="mainHeader__oldHeader___3_a2b " data-ng-if="CollapseSectionList">
                                                            <div class="mainHeader__title" role="button" data-ng-click="ShowSectionList()" title="{{SelectedSection.SectionName}}">
                                                                <i class="fa fa-angle-left" aria-hidden="true"></i><span class="padding-left-5">{{SelectedSection.SectionName}}</span>
                                                            </div>
                                                            <div class="mainHeader__title___2uqBw titleSpan">
                                                                <input type="text" placeholder="&#61442; Search" data-ng-model="searchForm" data-ng-keyup="SearchForm(searchForm)" />
                                                            </div>
                                                        </div>
                                                    }


                                                    <div id="MainBody" class="navPane__mainBody___21UVL">
                                                        <div class="navPane__topShadow___3Dlkb"></div>
                                                        @*Column 1 - Section*@
                                                        <div id="OreoSectionColumn" class="sectionColumn__oldColumn___3d-hh column__column___Qyiqv navPaneSectionColumn Resizer__resizable___1ycaS" aria-label="Section List" @*data-ng-show="!CollapseSectionList"*@>
                                                            <div class="sectionColumn__shadow___1NwYJ"></div>
                                                            <div role="tree" id="NavPaneSectionList" class="ms-FocusZone column__itemList____U0yG null width-100" data-focuszone-id="FocusZone133">
                                                                <div class="sectionList">
                                                                    <div id="4e85ff6a-a528-4484-952b-63fcad92d23a" class="mainItem__item___2SvC6 null" draggable="true" data-ng-repeat="item in SectionList" role="button" data-ng-click="GetSubSectionList(item,'color'+$index)">
                                                                        <div class="navItem mainItem__navItem___VcPgk navItem__item___3FGoV sectionItem mainItem__highContrastOutline___2IBIF" aria-activedescendant="true" data-is-focusable="true" role="treeitem" aria-label="Quick Notes, Section. Selected. Press Ctrl + F6 to navigate to page list of the section." data-tip="Quick Notes" tabindex="0" data-selection-index="0">
                                                                            @*<div >*@
                                                                            <div class="mainItem__backgroundSelected___30FBH mainItem__sectionBgOffset___4n1uG" title="{{item.SectionName}}"
                                                                                 ng-mouseenter="setColor(item.ColorRGBA+',0.2','color'+$index)" ng-mouseleave="setColor('249,249,249,0.9','color'+$index)">
                                                                            </div>
                                                                            <div class="mainItem__itemWrap___3qftP">
                                                                                <div class="colorBlock__colorBlock___2Qyba" style="background-color: {{item.Color}};"></div>
                                                                                <div class="undefined active mainItem__wrapper___1ljbI" id="color{{$index}}">
                                                                                    <content class="navItem__content___1BanG">{{item.SectionName}}</content>
                                                                                </div>
                                                                            </div>
                                                                            @*</div>*@
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="sectionGroup__sectionGroupContainer___2tA1s"></div>
                                                            </div>
                                                            <span class="Resizer__resizer___2UF-J"></span>


                                                            @if (
                                                            (documentFrom != null && documentFrom == "PATIENT" && Common.HasPermission(Constants.HC_Permission_PatientIntake_Documents_AddSection))
                                                            || (documentFrom != null && documentFrom == "EMPLOYEE" && Common.HasPermission(Constants.HC_Permission_Employee_EmployeeDocuments_AddSection))
                                                            )
                                                            {

                                                                <div id="AddSection" class="mainItem__item___2SvC6 mainItem__item___2SvC6 createItem__controlContainer___LTa7r createItem__oldCreateSection___36nDX createSection"
                                                                     @*data-toggle="modal" data-target="#addSectionModal"*@ data-ng-click="OpenAddModal('Section')" tabindex="0" role="button" aria-label="Add a new section">
                                                                    <content class="createItem__content___1wjSU">
                                                                        <i class="fa fa-plus" aria-hidden="true"></i>
                                                                        Add New Folder
                                                                    </content>
                                                                </div>
                                                            }
                                                            @*<div class="add_color">
                                                                </div>*@
                                                        </div>

                                                        @*Column 2 - SubSection*@
                                                        <div id="OreoPageColumn" class="Resizer__resizable___1ycaS navPanePageColumn pageColumn__column___3MrYM column__column___Qyiqv sectionColumn__oldColumn___3d-hh padding_left" aria-label="Page List">
                                                            <div id="PageList" class="pageColumn__fullWidth___3UPBIcolumn__itemList____U0yG">
                                                                <div class="ms-SelectionZone" role="presentation">
                                                                    <div role="presentation" class="ms-FocusZone pagesContainer" data-focuszone-id="FocusZone324">
                                                                        <div class="pageNode" id="{bed3108e-f2ce-403a-af9a-3346666402f5}{13}">
                                                                            <div class="pageListItem mainItem__item___2SvC6" draggable="true" data-ng-repeat="item in SubSectionList" role="button" data-ng-click="GetFormList(item,'colorSub'+$index)">
                                                                                <div class="navItem mainItem__navItem___VcPgk navItem__item___3FGoV pageItem mainItem__highContrastOutline___2IBIF" aria-activedescendant="true" data-is-focusable="true" role="treeitem" aria-label="Untitled Page, Page. Selected. Press Ctrl + F6 to navigate to page contents." data-tip="Untitled Page" tabindex="0" data-selection-index="0">
                                                                                    <div class="mainItem__backgroundSelected___30FBH" title="{{item.SubSectionName}}"
                                                                                         ng-mouseenter="setColor(SelectedSection.ColorRGBA+',0.2','colorSub'+$index)" ng-mouseleave="setColor('249,249,249,0.9','colorSub'+$index)">
                                                                                    </div>
                                                                                    <div class="mainItem__itemWrap___3qftP">
                                                                                        @*<div class="colorBlock__colorBlock___2Qyba other_color" data-ng-if="$index==0 && CollapseSectionList" style="background-color:{{SelectedSection.Color}};"></div>
                                                                                            <div class="colorBlock__colorBlock___2Qyba other_color" data-ng-if="$index!=0 && CollapseSectionList"></div>*@
                                                                                        <div class="undefined active mainItem__wrapper___1ljbI" id="colorSub{{$index}}">
                                                                                            <content class="navItem__content___1BanG">{{item.SubSectionName}}</content>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <span class="Resizer__resizer___2UF-J"></span>

                                                            @if (
                                                            (documentFrom != null && documentFrom == "PATIENT" && Common.HasPermission(Constants.HC_Permission_PatientIntake_Documents_AddSubSection))
                                                            || (documentFrom != null && documentFrom == "EMPLOYEE" && Common.HasPermission(Constants.HC_Permission_Employee_EmployeeDocuments_AddSubSection))
                                                            )
                                                            {
                                                                <div id="AddPage" class="mainItem__item___2SvC6 createItem__controlContainer___LTa7r createPage" @*data-ng-class="{sub_section:!CollapseSectionList,add_width:CollapseSectionList}"*@
                                                                     tabindex="0" role="button" aria-label="Add a new page" @*data-ng-click="OpenSubSectionModal()"*@ data-ng-click="OpenAddModal('Sub Section')"
                                                                     data-ng-if="IsEditableCompliance()">
                                                                    <content class="createItem__content___1wjSU">
                                                                        <i class="fa fa-plus" aria-hidden="true"></i>
                                                                        Add New Sub Folder
                                                                    </content>
                                                                </div>
                                                            }
                                                        </div>

                                                        @*Column 3 - Form List*@
                                                        @if (1 == 2)
                                                        {
                                                            <div id="OreoPageColumn" class="Resizer__resizable___1ycaS navPanePageColumn pageColumn__column___3MrYM column__column___Qyiqv " aria-label="Page List" data-ng-if="CollapseSectionList">
                                                                <div class="sectionColumn__shadow___1NwYJ"></div>
                                                                <div id="PageList" class="pageColumn__fullWidth___3UPBIcolumn__itemList____U0yG">
                                                                    <div class="ms-SelectionZone" role="presentation">
                                                                        <div role="presentation" class="ms-FocusZone pagesContainer" data-focuszone-id="FocusZone324">
                                                                            <div class="pageNode" id="{bed3108e-f2ce-403a-af9a-3346666402f5}{13}">
                                                                                <div class="pageListItem mainItem__item___2SvC6" draggable="true" data-ng-repeat="item in FormList">
                                                                                    <div class="navItem mainItem__navItem___VcPgk navItem__item___3FGoV pageItem mainItem__highContrastOutline___2IBIF" aria-activedescendant="true" data-is-focusable="true" role="treeitem" aria-label="Untitled Page, Page. Selected. Press Ctrl + F6 to navigate to page contents." data-tip="Untitled Page" tabindex="0" data-selection-index="0">
                                                                                        <div @*class="mainItem__backgroundSelected___30FBH"*@ @*style="background-color: rgb(0, 160, 215);"*@></div>
                                                                                        <div class="mainItem__itemWrap___3qftP">
                                                                                            <div class="undefined active mainItem__wrapper___1ljbI">
                                                                                                <content class="navItem__content___1BanG padding-left-10 con_lft">
                                                                                                    <a href="" taraget="myIframe" data-ng-if="item.FileName" data-ng-click="OpenPDF(item.FilePath)">
                                                                                                        <span class="pull-left">{{item.FileName}}</span>
                                                                                                    </a>
                                                                                                    @*<a href="javascript:void(0)" data-ng-if="item.FileName" data-ng-click="OpenInFrame(item)">
                                                                                                            <span class="pull-left" ng-header="Details" common-detail-popover="item" popover-width="400"
                                                                                                                  popover-trigger="hover" ng-template-selector="#formdetailpopover">{{item.FileName}}</span>
                                                                                                        </a>*@
                                                                                                    <a href="javascript:void(0)" taraget="myIframe" data-ng-if="item.FormName" title="{{item.FormName}}_{{item.UpdatedDate|orgdatetime}}">
                                                                                                        <span class="pull-left" data-ng-click="OpenSavedForm(item)"> {{item.FormName}}_{{item.UpdatedDate|orgdatetime}}</span>
                                                                                                    </a>
                                                                                                </content>
                                                                                                <content class="navItem__content___1BanG_Hover padding-left-10 pull-right form-content con_rgt">
                                                                                                    <a href="javascript:void(0);" class="btn btn-xs btn-success ng-scope" ng-header="Details" common-detail-popover="item" popover-width="400"
                                                                                                       popover-trigger="click" ng-template-selector="#formdetailpopover" title="info">
                                                                                                        <i class="fa fa-info-circle"></i>
                                                                                                    </a>
                                                                                                    <a href="javascript:void(0);" data-ng-click="DeleteDocument(item)" class="btn btn-xs red" title="Delete">
                                                                                                        <i class="fa fa-trash"></i>
                                                                                                    </a>
                                                                                                </content>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <span class="Resizer__resizer___2UF-J"></span>
                                                                <div id="AddPage" class="sub_section mainItem__item___2SvC6 createItem__controlContainer___LTa7r createPage" tabindex="0" role="button" aria-label="Add a new page" data-ng-click="OpenAddFormModal()">
                                                                    <content class="createItem__content___1wjSU">
                                                                        <i class="fa fa-plus" aria-hidden="true"></i>
                                                                        Form
                                                                    </content>
                                                                </div>
                                                            </div>
                                                        }
                                                    </div>
                                                </div>
                                                @*</span>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="ref_doc_rgt" id="preview_window" data-ng-class="{'col-lg-12':!SetFullScreen,'width-100':SetFullScreen}">
        @*<button type="submit" class="btn btn-sm btn-warning pull-right" data-ng-if="!SetFullScreen" title="Full Screen" data-ng-click="ResizeScreen(1)"><i class="glyphicon glyphicon-resize-full"></i></button>
            <button type="submit" class="btn btn-sm btn-warning pull-right" data-ng-if="SetFullScreen" title="Small Screen" data-ng-click="ResizeScreen(0)"><i class="glyphicon glyphicon-resize-small"></i></button>
            <iframe id="myIframe" style="width:-webkit-fill-available; height:400px;" frameBorder="0"></iframe>
            <div id="example1"></div>*@
        <div class="referal_info">
            <div class="pull-right">
                <button type="submit" class="btn btn-xs btn-warning" data-ng-if="!SetFullScreen && ShowFrame" title="Full Screen" data-ng-click="ResizeScreen(1)"><i class="glyphicon glyphicon-resize-full"></i></button>
                <button type="submit" class="btn btn-xs btn-warning" data-ng-if="SetFullScreen && ShowFrame" title="Small Screen" data-ng-click="ResizeScreen(0)"><i class="glyphicon glyphicon-resize-small"></i></button>
                <button type="submit" class="btn btn-xs btn-danger" data-ng-if="ShowFrame" title="Close Preview" data-ng-click="ClosePreview()"><i class="glyphicon glyphicon-remove"></i></button>
            </div>
            <div data-ng-class="{'frameLoader':frameLoader,'width-100':SetFullScreen}" style="height: auto !important;">
                @*<iframe id="myIframe" scrolling="no" data-ng-show="ShowFrame" style="width: -webkit-fill-available; height: -webkit-fill-available; overflow: hidden" frameborder="0" allowfullscreen=""></iframe>*@
            </div>
            <iframe id="myIframe" data-ng-show="ShowFrame" style="width: 100%; height: 100%; overflow: hidden" frameborder="0" allowfullscreen="true"></iframe>

            @*<div class="row margin-bottom-10"></div>*@

            <div class="row" data-ng-if="!ShowFrame">
                <div class="col-sm-12 margin-bottom-10">
                    <div class="portlet-body" style="display: block;">
                        <div>
                            <button type="button" class="btn btn-xs btn-primary collapsed blue grey border-grey-cascade" data-toggle="collapse" data-target="#filter-panel">
                                <i class="fa fa-sliders" aria-hidden="true"></i>&nbsp;All Filters
                            </button>

                            @if (
                            (documentFrom != null && documentFrom == "PATIENT" && Common.HasPermission(Constants.HC_Permission_PatientIntake_Documents_Add))
                            || (documentFrom != null && documentFrom == "EMPLOYEE" && Common.HasPermission(Constants.HC_Permission_Employee_EmployeeDocuments_Add))
                            )
                            {
                                <button class="btn btn-xs btn-primary pull-right" data-ng-if="IsEditableCompliance()" data-ng-click="OpenAddFormModal()"><i class="icon-plus"></i>&nbsp; @Resource.UploadDocuments</button>
                            }
                            <div id="filter-panel" class="collapse filter-panel">
                                <div class="panel panel-default margin-bottom-0">
                                    <div class="panel-body">
                                        <form>
                                            <div class="form-group col-lg-3 col-md-4 col-sm-4 col-xs-6">
                                                <label class="control-label">@Resource.DocumentName</label>
                                                <input class="form-control input-xs" placeholder="@Resource.DocumentName" data-ng-model="SearchReferralDocumentListPage.Name" />
                                            </div>
                                            <div class="form-group col-lg-3 col-md-4 col-sm-4 col-xs-6">
                                                <label class="control-label">@Resource.FilterDate</label>
                                                <select class="input-xs form-control" data-ng-model="SearchReferralDocumentListPage.SearchInDate"
                                                        data-ng-init="SearchReferralDocumentListPage.SearchInDate=SearchReferralDocumentListPage.SearchInDate==null?'Added':SearchReferralDocumentListPage.SearchInDate">
                                                    <option value="@Resource.Added">@Resource.AddedDate</option>
                                                    <option value="@Resource.Expiry">@Resource.ExpiryDate</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-lg-3 col-md-4 col-sm-4 col-xs-6">
                                                <label class="control-label">{{SearchReferralDocumentListPage.SearchInDate}} @Resource.Date @Resource.From</label>
                                                <div class="input-group date date-picker pull-right" datepicker="SearchReferralDocumentListPage.StartDate"
                                                     ng-dateval="SearchReferralDocumentListPage.StartDate" data-ng-maxdate="TempSearchEmployeeVisitListPage.EndDate">
                                                    <input class="form-control input-xs" maxlength="10" placeholder="@Resource.DateFormat" />
                                                    <span class="input-group-addon" style="padding: 4px 8px;"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                            <div class="form-group col-lg-3 col-md-4 col-sm-4 col-xs-6">
                                                <label class="control-label">{{SearchReferralDocumentListPage.SearchInDate}} @Resource.Date @Resource.To_Caps</label>
                                                <div class="input-group date date-picker pull-right" datepicker="SearchReferralDocumentListPage.EndDate"
                                                     ng-dateval="SearchReferralDocumentListPage.EndDate" data-ng-mindate="SearchReferralDocumentListPage.StartDate">
                                                    <input class="form-control input-xs" maxlength="10" placeholder="@Resource.DateFormat" />
                                                    <span class="input-group-addon" style="padding: 4px 8px;"><i class="fa fa-calendar"></i></span>
                                                </div>
                                            </div>
                                            <div class="form-group col-lg-3 col-md-4 col-sm-4 col-xs-6">
                                                <label class="control-label">@Resource.Type</label>
                                                <select class="form-control input-xs" data-ng-model="SearchReferralDocumentListPage.KindOfDocument"
                                                        data-ng-options="item.Value as item.Name for item in DocumentationTypeList">
                                                    <option value="">@Resource.Select</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-lg-3 col-md-4 col-sm-4 col-xs-6">
                                                <label class="control-label">
                                                    @Resource.SearchType
                                                    <i class="fa fa-question-circle" data-ng-tooltip="@Resource.SearchTypeMessage" data-ng-custom-class="tooltip-extra-z-index"></i>
                                                </label>
                                                <select class="form-control input-xs" data-ng-model="SearchReferralDocumentListPage.SearchType"
                                                        data-ng-init="SearchReferralDocumentListPage.SearchType=SearchReferralDocumentListPage.SearchType==null?'Directory':SearchReferralDocumentListPage.SearchType">
                                                    <option value="@Resource.Directory">@Resource.Directory</option>
                                                    <option value="@Resource.Global">@Resource.Global</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-lg-3 col-md-4 col-sm-4 col-xs-6">
                                                <label class="control-label">
                                                    @Resource.Status
                                                </label>
                                                <select class="form-control input-xs" data-ng-model="SearchReferralDocumentListPage.IsDeleted"
                                                        data-ng-init="SearchReferralDocumentListPage.IsDeleted=SearchReferralDocumentListPage.IsDeleted==null?'0':SearchReferralDocumentListPage.IsDeleted">
                                                    <option value="0">Active</option>
                                                    <option value="1">Archive</option>
                                                </select>
                                            </div>
                                            <div class="form-group col-lg-3 col-md-4 col-sm-4 col-xs-6 margin-top-20">
                                                <button type="submit" class="btn btn-xs btn-primary" data-ng-click="SearchReferralDocument()">
                                                    @Resource.Search
                                                </button>
                                                <button class="btn btn-xs grey border-grey-cascade" data-ng-click="ResetSearchFilter()">
                                                    @Resource.Reset
                                                </button>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="tab_ref_rgt_block">
                    <div class="tab_ref_height height-100">
                        <div class="col-sm-12 height-100" data-ng-if="ReferralDocumentList.length > 0">
                            <div class="portlet-body compact table-responsive height-100">
                                <div class="dataTables_wrapper height-100 overflow-a">
                                    <table class="table table-bordered table-striped table-hover table-condensed">
                                        <thead>
                                            <tr>
                                                <th style="width: 10px;">
                                                    @Resource.Hash
                                                </th>
                                                <th>
                                                    <a class="anchor_color" href="javascript:void(0);" data-ng-click="ReferralDocumentPager.sortColumn('Name')">@Resource.DocName</a>
                                                    <span class="sortorder" data-ng-show="ReferralDocumentPager.sortIndex === 'Name'" data-ng-class="{reverse:ReferralDocumentPager.reverse}"></span>
                                                </th>
                                                @*<th>
                                                        <a class="anchor_color" href="javascript:void(0);" data-ng-click="ReferralDocumentPager.sortColumn('Type')">@Resource.Type</a>
                                                        <span class="sortorder" data-ng-show="ReferralDocumentPager.sortIndex === 'Type'" data-ng-class="{reverse:ReferralDocumentPager.reverse}"></span>
                                                    </th>*@
                                                <th class="col-lg-2">
                                                    <a class="anchor_color" href="javascript:void(0);" data-ng-click="ReferralDocumentPager.sortColumn('CreatedBy')">@Resource.CreatedBy</a>
                                                    <span class="sortorder" data-ng-show="ReferralDocumentPager.sortIndex === 'CreatedBy'" data-ng-class="{reverse:ReferralDocumentPager.reverse}"></span>
                                                </th>
                                                <th class="col-lg-1">
                                                    <a class="anchor_color" href="javascript:void(0);" data-ng-click="ReferralDocumentPager.sortColumn('CreatedDate')">@Resource.CreatedDate</a>
                                                    <span class="sortorder" data-ng-show="ReferralDocumentPager.sortIndex === 'CreatedDate'" data-ng-class="{reverse:ReferralDocumentPager.reverse}"></span>
                                                </th>
                                                <th class="col-lg-1">
                                                    <a class="anchor_color" href="javascript:void(0);" data-ng-click="ReferralDocumentPager.sortColumn('UpdatedBy')">@Resource.UpdatedBy</a>
                                                    <span class="sortorder" data-ng-show="ReferralDocumentPager.sortIndex === 'UpdatedBy'" data-ng-class="{reverse:ReferralDocumentPager.reverse}"></span>
                                                </th>
                                                <th class="col-lg-1">
                                                    <a class="anchor_color" href="javascript:void(0);" data-ng-click="ReferralDocumentPager.sortColumn('UpdatedDate')">@Resource.UpdatedDate</a>
                                                    <span class="sortorder" data-ng-show="ReferralDocumentPager.sortIndex === 'UpdatedDate'" data-ng-class="{reverse:ReferralDocumentPager.reverse}"></span>
                                                </th>
                                                @*<th class="col-lg-1">
                                                        <a class="anchor_color" href="javascript:void(0);" data-ng-click="ReferralDocumentPager.sortColumn('ExpirationDate')">@Resource.ExpirationDate</a>
                                                        <span class="sortorder" data-ng-show="ReferralDocumentPager.sortIndex === 'ExpirationDate'" data-ng-class="{reverse:ReferralDocumentPager.reverse}"></span>
                                                    </th>*@
                                                <th data-ng-if="IsEditableCompliance()" class="col-lg-1 width-10px">@Resource.Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr data-ng-repeat="filedata in UploadingFileList" id="pbar">
                                                <td></td>
                                                <td>
                                                    <div class="" data-ng-bind="filedata.name" title="{{filedata.name}}">
                                                    </div>
                                                </td>

                                                <td colspan="4">
                                                    <div>
                                                        <div class="active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                                                            <div class="progress-bar" data-ng-class="{'progress-bar-success': !filedata.IsError,'progress-bar-danger': filedata.IsError}" data-ng-style="{ 'width': filedata.FileProgress+'%' }"><span data-ng-bind="filedata.IsError?filedata.ErrorMessage:filedata.FileProgress+'%'"></span></div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <a href="javascript:void(0);" data-ng-if="filedata.IsError" data-ng-click="DeleteUploadedFile(filedata)" tooltip title="Delete Document"><i class="fa fa-remove"></i></a>
                                                </td>
                                            </tr>
                                            <tr dir-paginate="referralDocument in ReferralDocumentList | itemsPerPage: ReferralDocumentPager.pageSize" total-items="ReferralDocumentPager.totalRecords" current-page="ReferralDocumentPager.currentPage" pagination-id="ReferralDocumentPagerID">
                                                <td data-ng-bind="$index + 1"></td>
                                                <td>
                                                    <div class="">
                                                        <span data-ng-class="{'badge badge-info': referralDocument.KindOfDocument=='Internal','badge badge-danger': referralDocument.KindOfDocument=='External'}"
                                                              title="{{referralDocument.KindOfDocument==External?'External Document':'Internal Document'}}" role="button">{{referralDocument.KindOfDocument.charAt(0)}}</span>
                                                        @*<a href="javascript:void(0);" target="_blank" data-ng-if="referralDocument.ReferralDocumentID>0" data-ng-click="OpenUploadedDocument(referralDocument.FilePath)">{{referralDocument.Name}}</a>*@
                                                        <a href="{{referralDocument.AccessFilePath}}" target="_blank" data-ng-if="referralDocument.ReferralDocumentID>0 && referralDocument.StoreType != 'Orbeon'">{{referralDocument.Name}}</a>

                                                        <a href="#" data-ng-if="referralDocument.ReferralDocumentID>0 && referralDocument.StoreType == 'Orbeon'" data-ng-click="OpenSavedFormOrbeon(referralDocument, 'pdf')">{{referralDocument.Name}}</a>

                                                        <a href="#" data-ng-if="referralDocument.EbriggsFormMppingID>0" data-ng-click="OpenSavedForm_new(referralDocument,true)">
                                                            {{referralDocument.Name}}
                                                        </a>
                                                    </div>
                                                </td>
                                                @*<td><span data-ng-class="{'badge badge-info': referralDocument.KindOfDocument=='Internal','badge badge-danger': referralDocument.KindOfDocument=='External'}" title="{{referralDocument.KindOfDocument==External?'External Document':'Internal Document'}}">{{referralDocument.KindOfDocument}}</span></td>*@
                                                <td>{{referralDocument.CreatedBy}}</td>
                                                <td data-ng-bind="referralDocument.CreatedDate | orgdate"></td>
                                                <td>{{referralDocument.UpdatedBy}}</td>
                                                <td data-ng-bind="referralDocument.UpdatedDate | orgdate"></td>
                                                <td data-ng-if="IsEditableCompliance()" class="text-align-right">
                                                    @{bool isDelete = (documentFrom != null && documentFrom == "PATIENT" && Common.HasPermission(Constants.HC_Permission_PatientIntake_Documents_Delete))
                                                                                                         || (documentFrom != null && documentFrom == "EMPLOYEE" && Common.HasPermission(Constants.HC_Permission_Employee_EmployeeDocuments_Delete));
                                                        bool isEdit = (documentFrom != null && documentFrom == "PATIENT" && Common.HasPermission(Constants.HC_Permission_PatientIntake_Documents_Add))
                                                                || (documentFrom != null && documentFrom == "EMPLOYEE" && Common.HasPermission(Constants.HC_Permission_Employee_EmployeeDocuments_Add));

                                                        <div class="btn-group {{ReferralDocumentList.length > 6 && $index + 3 > ReferralDocumentList.length ? 'dropup' : ''}}">
                                                            <button class="btn btn-default btn-xs dropdown-toggle green-haze-stripe" type="button" data-toggle="dropdown" aria-expanded="false" aria-haspopup="true"
                                                                    data-ng-disabled="@(isDelete || isEdit ? "false" : "true")">
                                                                <b>@Resource.Action</b>
                                                                <i class="fa fa-angle-down"></i>
                                                            </button>
                                                            <ul class="dropdown-menu pull-right">

                                                                @if (isDelete)
                                                                {
                                                                    <li data-ng-show="!referralDocument.IsDeleted">
                                                                        <a href="javascript:void(0);" data-ng-click="DeleteDocument(referralDocument)" tooltip title="@Resource.DeleteDocument">
                                                                            <i class="fa fa-trash text-danger"></i>@Resource.Archive
                                                                        </a>
                                                                    </li>
                                                                    <li data-ng-show="referralDocument.IsDeleted">
                                                                        <a href="javascript:void(0);" data-ng-click="DeleteDocument(referralDocument)" tooltip title="@Resource.DeleteDocument">
                                                                            <i class="fa fa-trash text-danger"></i>@Resource.Active
                                                                        </a>
                                                                    </li>
                                                                }

                                                                @if (isEdit)
                                                                {
                                                                    <li>
                                                                        <a data-ng-click="EditDocument(referralDocument)" tooltip title="@Resource.EditDocument"
                                                                           data-toggle="modal" data-ng-if="referralDocument.ReferralDocumentID>0 && referralDocument.StoreType == 'Local'">
                                                                            <i class="fa fa-edit"></i>@Resource.Edit
                                                                        </a>
                                                                        <a data-ng-click="OpenSavedForm(referralDocument,true)" tooltip title="@Resource.EditDocument"
                                                                           data-ng-if="referralDocument.EbriggsFormMppingID>0">
                                                                            <i class="fa fa-edit"></i>@Resource.Edit
                                                                        </a>

                                                                        <a href="#" data-ng-click="OpenSavedFormOrbeon(referralDocument, 'edit')" tooltip title="@Resource.EditDocument"
                                                                           data-toggle="modal" data-ng-if="referralDocument.ReferralDocumentID > 0 && referralDocument.StoreType == 'Orbeon'">
                                                                            <i class="fa fa-edit"></i>@Resource.Edit
                                                                        </a>
                                                                    </li>

                                                                    <li>
                                                                        <a href="#" data-ng-click="OpenSavedFormOrbeon(referralDocument, 'edit', true)" tooltip title="@Resource.CloneDocument"
                                                                           data-toggle="modal" data-ng-if="referralDocument.ReferralDocumentID > 0 && referralDocument.StoreType == 'Orbeon'">
                                                                            <i class="fa fa-copy"></i>@Resource.Clone
                                                                        </a>
                                                                    </li>
                                                                }
                                                                @if (Common.HasPermission(Constants.HC_Permission_Document_Email))
                                                                {
                                                                    <li>
                                                                        <a href="javascript:void(0);" data-ng-click="GetReferralAttachment(referralDocument)" tooltip title="Email">
                                                                            <i class="fa fa-copy"></i>Email <span beta-tag></span>
                                                                        </a>
                                                                    </li>

                                                                    @*<li>
                                                                            <a href="#sendFax" data-ng-click="GetItem(referralDocument)" tooltip title="Fax"
                                                                               data-toggle="modal">
                                                                                <i class="fa fa-copy"></i>Fax <span beta-tag></span>
                                                                            </a>
                                                                        </li>*@

                                                                }
                                                                @*<li>
                                                                        <a href="#" data-ng-click="" tooltip title="@Resource.CloneDocument"
                                                                           data-toggle="modal" data-ng-if="referralDocument.ReferralDocumentID > 0 && referralDocument.StoreType == 'Orbeon'">
                                                                            <i class="fa fa-copy"></i>Fax
                                                                        </a>
                                                                    </li>*@

                                                            </ul>
                                                        </div>
                                                    }
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="col-sm-12">
                                        <div class="row">
                                            <div class="col-md-5 col-sm-5 p-0" data-ng-if="ReferralDocumentPager.totalRecords > ReferralDocumentPager.pageSize">
                                                @Resource.Showing <span data-ng-bind="(ReferralDocumentPager.pageSize * ReferralDocumentPager.currentPage) - ReferralDocumentPager.pageSize  + 1"></span>
                                                &nbsp;@Resource.To <span data-ng-bind="(ReferralDocumentPager.pageSize == ReferralDocumentPager.currentPageSize) ? (ReferralDocumentPager.pageSize * ReferralDocumentPager.currentPage) :(ReferralDocumentPager.pageSize * ReferralDocumentPager.currentPage) - ReferralDocumentPager.pageSize  + ReferralDocumentPager.currentPageSize"></span>&nbsp;@Resource.Of &nbsp;<span data-ng-bind="ReferralDocumentPager.totalRecords"></span>&nbsp;@Resource.Records
                                            </div>
                                            <div class="col-md-7 col-sm-7 p-0">
                                                <div class="pull-right top pagination-sm">
                                                    <dir-pagination-controls boundary-links="true" on-page-change="ReferralDocumentPager.pageChanged(newPageNumber,true)" pagination-id="ReferralDocumentPagerID"></dir-pagination-controls>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12" data-ng-if="ReferralDocumentList.length == 0">
                            <div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="alert alert-danger">
                                            @Html.Raw(Resource.NoRecordsFound)
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>



    </div>
</div>

<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none; margin-top: 0px;">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="caption margin-bottom-0 margin-top-5">
                    <a class="text-decoration-none sbold ng-binding">Add {{Modal}}</a>
                </h4>
            </div>
            <div class="modal-body">
                <form id="frmAdd">
                    <div class="form-group">
                        <label class="control-label required">
                            @Resource.DocumentationType
                        </label>
                        <select class="form-control input-sm" data-ng-options="item.Value as item.Name for item in DocumentationTypeList"
                                data-ng-model="AddModal.DocumentationType"
                                data-val="true" data-val-required="@Resource.DocumentationTypeRequired" id="DocumentationType" name="DocumentationType"
                                @*data-ng-init="AddModal.DocumentationType = UserType == 'Employee' ? '1' : null"*@ data-ng-disabled="UserType=='Employee'?true:false">
                            <option value="">@Resource.Select</option>
                        </select>
                        <span class="field-validation-error" data-valmsg-for="DocumentationType" data-valmsg-replace="true"></span>
                    </div>
                    <div class="form-group">
                        <label class="control-label required">{{Modal}} @Resource.Name</label>
                        <input class="form-control input-sm" placeholder="@Resource.Name" data-ng-model="AddModal.Name"
                               data-val="true" data-val-required="@Resource.NameRequired" id="Name" name="Name" />
                        <span class="field-validation-error" data-valmsg-for="Name" data-valmsg-replace="true"></span>
                    </div>
                    <div class="form-group" data-ng-if="Modal=='Section'">
                        <label class="control-label required">@Resource.ColorScheme</label>
                        <input class="form-control input-sm color-picker minicolors-input" placeholder="@Resource.ColorScheme" data-ng-model="AddModal.Value"
                               id="Section_Color" name="Section.Color" data-val="true" data-val-required="@Resource.FieldRequired" />
                        <span class="field-validation-valid" data-valmsg-for="Section.Color" data-valmsg-replace="true"></span>
                    </div>
                    <div class="form-group">
                        <label class="control-label required">
                            @Resource.IsTimeBased
                            <i class="fa fa-question-circle" data-ng-tooltip="@Resource.IsTimeBasedMessage" data-ng-custom-class="tooltip-extra-z-index"></i>
                        </label>
                        <select class="form-control input-sm" data-ng-options="item.Value as item.Name for item in SetYesNoList" data-ng-model="AddModal.IsTimeBased"
                                data-val="true" data-val-required="@Resource.Required" id="IsTimeBased" name="IsTimeBased">
                            <option value="">@Resource.Select</option>
                        </select>
                        <span class="field-validation-error" data-valmsg-for="IsTimeBased" data-valmsg-replace="true"></span>
                    </div>
                    <div class="form-group" data-ng-if="AddModal.EBFormID!=null">
                        <label class="control-label text-decoration-underline">Mapped Form :</label>
                        <div>
                            <a href="javascript:void(0);" data-ng-click="OpenNewHtmlForm(AddModal)">{{AddModal.FormName}}</a>
                            <a class="padding-left-15" href="javascript:void(0);" data-ng-click="OpenMapFormModel(false)" title="Edit Mapping"><i class="fa fa-edit"></i></a>
                            <a href="javascript:void(0);" data-ng-click="RemoveMappedForm()" title="Remove Mapping"><i class="fa fa-remove"></i></a>
                        </div>
                    </div>

                    <div class="row" data-ng-if="AddModal.EBFormID==null">
                        <div class="col-md-3">
                            <button type="button" class="btn btn-sm button" data-ng-click="OpenMapFormModel(false)">@Resource.MapForm</button>
                        </div>
                        <br />
                        <div class="col-md-3 col-sm-3">
                            <div class="field">
                                <label class="control-label">@Resource.ShowToAll</label>
                                <div class="field-box">
                                    <div class="custom_switch">
                                        <input type="radio" id="radioShowSectionYes" name="radioAddSection" data-ng-model="AddModal.ShowToAll"
                                               ng-value="true" />
                                        <label for="radioShowSectionYes">@Resource.Yes</label>
                                        <input type="radio" id="radioShowSectionNo" name="radioAddSection" data-ng-model="AddModal.ShowToAll"
                                               ng-value="false" />
                                        <label for="radioShowSectionNo">@Resource.No</label>
                                        <span class="custom_switchwrapper"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="form-group">
                        <label class="control-label">Select Roles to Provide Access</label>
                        <div class="">
                            <select class="form-control input-sm selectpicker" multiple data-buttonstyle="btn-sm btn-default"
                                    selectpicker="AddModal.SelectedRoles" name="AddModal.SelectedRoles"
                                    title="Select Roles">
                                <option ng-repeat="item in UserRoleList" value="{{item.RoleID}}">{{item.RoleName}}</option>
                            </select>
                        </div>
                    </div>




                    <div class="btn-group pull-right">
                        <a class="letter-space btn btn-sm green-jungle" data-ng-click="SaveDetails()">@Resource.Save</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>








@*<div class="modal fade" id="addSectionModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none; margin-top: 0px;">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="caption margin-bottom-0 margin-top-5">
                        <a class="text-decoration-none sbold ng-binding">Add Section</a>
                    </h4>
                </div>
                <div class="modal-body">
                    <form id="frmSection">
                        <div class="form-group">
                            <label class="control-label required">@Resource.Section</label>
                            <input class="form-control input-sm" placeholder="@Resource.Section" data-ng-model="Section.SectionName"
                                   data-val="true" data-val-required="@Resource.SectionRequired" id="SectionName" name="SectionName" />
                            <span class="field-validation-error" data-valmsg-for="SectionName" data-valmsg-replace="true"></span>
                        </div>
                        <div class="form-group">
                            <label class="control-label required">Select Color</label>
                            <input class="form-control input-sm color-picker minicolors-input" placeholder="@Resource.ColorScheme" data-ng-model="Section.Color"
                                   id="Section_Color" name="Section.Color" data-val="true" data-val-required="@Resource.ValueRequired" />
                            <span class="field-validation-valid" data-valmsg-for="Section.Color" data-valmsg-replace="true"></span>
                        </div>
                        <div class="btn-group pull-right">
                            <a class="letter-space btn btn-sm green-jungle" data-ng-click="SaveSection()">Save</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addSubSectionModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none; margin-top: 0px;">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="caption margin-bottom-0 margin-top-5">
                        <a class="text-decoration-none sbold ng-binding">Add Sub Section</a>
                    </h4>
                </div>
                <div class="modal-body">
                    <form id="frmSubSection">
                        <div class="form-group">
                            <label class="control-label required">
                                @Resource.DocumentationType
                            </label>
                            <select class="form-control input-sm" data-ng-options="item.Value as item.Name for item in DocumentationTypeList" data-ng-model="SubSection.DocumentationType"
                                    data-val="true" data-val-required="@Resource.DocumentationTypeRequired" id="DocumentationType" name="DocumentationType">
                                <option value="">@Resource.Select</option>
                            </select>
                            <span class="field-validation-error" data-valmsg-for="DocumentationType" data-valmsg-replace="true"></span>
                        </div>
                        <div class="form-group">
                            <label class="control-label required">@Resource.SubSection</label>
                            <input class="form-control input-sm" placeholder="@Resource.SubSection" data-ng-model="SubSection.SubSectionName"
                                   data-val="true" data-val-required="@Resource.SubSectionRequired" id="SubSectionName" name="SubSectionName" />
                            <span class="field-validation-error" data-valmsg-for="SubSectionName" data-valmsg-replace="true"></span>
                        </div>
                        <div class="form-group">
                            <label class="control-label required">
                                @Resource.IsTimeBased
                                <i class="fa fa-question-circle" data-ng-tooltip="@Resource.IsTimeBasedMessage" data-ng-custom-class="tooltip-extra-z-index"></i>
                            </label>
                            <select class="form-control input-sm" data-ng-options="item.Value as item.Name for item in SetYesNoList" data-ng-model="SubSection.IsTimeBased"
                                    data-val="true" data-val-required="@Resource.Required" id="IsTimeBased" name="IsTimeBased">
                                <option value="">@Resource.Select</option>
                            </select>
                            <span class="field-validation-error" data-valmsg-for="IsTimeBased" data-valmsg-replace="true"></span>
                        </div>
                        <div class="btn-group pull-right">
                            <a class="letter-space btn btn-sm green-jungle" data-ng-click="SaveSubSection()">Save</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>*@

<div class="modal fade" id="addFormModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none; margin-top: 0px;">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="caption margin-bottom-0 margin-top-5">
                    <a class="text-decoration-none sbold uppercase ng-binding">
                        @Resource.AddForm
                    </a>
                </h4>
            </div>
            <div class="modal-body">
                <div class="center-block text-align-center">
                    <div class="col-md-5">
                        <div class="fileUpload btn btn-sm blue" data-ng-if="ComplianceID>0  && ShowUpload && ReferralID>0 || ComplianceID==-4">
                            <span>Upload Scanned Document</span>
                            <input id="logoFileUpload" type="file" name="files[]" class="upload" value="Browse"
                                   fileupload
                                   file-uploadurl="{{UploadFile}}"
                                   beforesend="BeforeSend"
                                   aftersend="AfterSend"
                                   progress="Progress"
                                   data-primary-id="ReferralID"
                                   data-extra-value="ComplianceID"
                                   filelist="UploadingFileList"
                                   multiple="" />
                        </div>
                        <div class="fileUpload btn btn-sm blue" data-ng-if="ComplianceID>0 && ShowUpload && EmployeeID>0">
                            <span>Upload Scanned Document</span>
                            <input id="logoFileUpload" type="file" name="files[]" class="upload" value="Browse"
                                   fileupload
                                   file-uploadurl="{{UploadFile}}"
                                   beforesend="BeforeSend"
                                   aftersend="AfterSend"
                                   progress="Progress"
                                   data-primary-id="EmployeeID"
                                   data-extra-value="ComplianceID"
                                   filelist="UploadingFileList"
                                   multiple="" />
                        </div>
                        <div class="margin-top-2">You can upload images, pdf, documents and text files.</div>
                    </div>
                    <div class="col-md-2 padding-left-0 padding-right-0">
                        <span class="margin-left-10 margin-right-10">OR</span>
                    </div>
                    <div class="col-md-5">
                        <button class="btn btn-sm green-jungle" style="width: 175px;" data-ng-click="SetPreview(SelectedSection,SelectedSubSection)">Fill New Form</button>
                        <div class="margin-top-2" data-ng-if="SelectedSubSection.FormName!=null || SelectedSection.FormName!=null">
                            This will open "{{SelectedSubSection==null ? SelectedSection.FormName : SelectedSubSection.FormName}}" form. <a data-ng-click="OpenMapFormModel(true)">Click here</a> to see all forms.
                        </div>
                    </div>


                    @*<div class="col-md-5">
                            <br />
                            <div class="fileUpload btn btn-sm blue" data-ng-if="ComplianceID>0 && ShowUpload && ReferralID>0">
                                <span>Add document at Google Drive</span>
                                <input id="logoFileUploadGoogle" type="file" name="files[]" class="upload" value="Browse"
                                       fileupload
                                       file-uploadurl="{{UploadFileGoogleDrive}}"
                                       beforesend="BeforeSend"
                                       aftersend="AfterSend"
                                       progress="Progress"
                                       data-primary-id="ReferralID"
                                       data-extra-value="ComplianceID"
                                       filelist="UploadingFileList"
                                       multiple="" />


                            </div>
                            <div class="fileUpload btn btn-sm blue" data-ng-if="ComplianceID>0 && ShowUpload && EmployeeID>0">
                                <span>Add document at Google Drive</span>
                                <input id="logoFileUploadGoogle" type="file" name="files[]" class="upload" value="Browse"
                                       fileupload
                                       file-uploadurl="{{UploadFileGoogleDrive}}"
                                       beforesend="BeforeSend"
                                       aftersend="AfterSend"
                                       progress="Progress"
                                       data-primary-id="EmployeeID"
                                       data-extra-value="ComplianceID"
                                       filelist="UploadingFileList"
                                       multiple="" />
                            </div>
                            <div class="margin-top-2">You can upload images, pdf, documents and text files.</div>

                            <br />
                            <br />
                        </div>*@
                    @*<div class="col-md-2 padding-left-0 padding-right-0">
                            <br />
                            <span class="margin-left-10 margin-right-10">OR</span>
                        </div>
                        <div class="col-md-5">
                            <br />
                            <div>
                                <a href="#GetFileFromGoogle" class="btn btn-sm blue" data-ng-click="GetFileFromGoogle(referralDocument)" tooltip title="Add Document from Google Drive"
                                   data-toggle="modal">
                                    Add Document from Google Drive
                                </a>
                            </div>
                            <div class="margin-top-2">You can link images, pdf, documents and text files from drive.</div>
                        </div>*@
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="mapFormModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none; margin-top: 0px;">
    <div class="modal-dialog" style="width: 85%" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="caption margin-bottom-0 margin-top-5">
                    <a class="text-decoration-none sbold uppercase ng-binding">
                        Select Form
                    </a>
                </h4>
            </div>
            <div class="modal-body">

                <div class="table-responsive tabbable-custom form-table-overflow">

                    <table class="table table-bordered table-striped table-condensed flip-content">
                        <thead class="flip-content">
                            <tr>
                                <th class="width-min-107px">
                                    @Resource.FormNumber
                                </th>
                                <th>
                                    @Resource.FormName
                                </th>
                                <th class="width-10px">@Resource.Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="compact-search-tr">
                                <td colspan="2">
                                    <input class="form-control input-sm" placeholder="Search by Form Number, Name or Tags" data-ng-model="frmSearch" />
                                </td>
                                <td></td>
                            </tr>
                            <tr data-ng-repeat="form in OrganizationFormList | filter: frmSearch">
                                <td>{{ form.Name }}</td>
                                <td>
                                    @*<a data-ng-click="OpenNewHtmlForm(form)">{{ form.FormLongName }}</a>*@
                                    <a data-ng-click="SelectForm1(form)">{{ form.FormLongName }}</a>
                                </td>
                                <td>
                                    <a href="javascript:void(0);" data-ng-if="!IsBindToFrame" data-ng-click="SelectForm(form)" class="btn btn-xs blue">@Resource.Select</a>
                                    <a href="javascript:void(0);" data-ng-if="IsBindToFrame" data-ng-click="SelectForm1(form)" class="btn btn-xs blue">@Resource.Select</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>

            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="EditDocument" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-ng-click="CloseEditDocument()"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="H1"><span>@Resource.EditDocument</span></h4>
            </div>
            <div class="modal-body">
                <form id="frmDocumentEdit">
                    <div class="row">
                        <div class="form-group col-md-push-2 col-sm-10">
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                <label class="control-label required">@Resource.FileName</label>
                            </div>
                            <div class="col-sm-8">
                                <div class="col-md-8">
                                    <input class="form-control input-sm" maxlength="100" data-ng-model="DocumentDetail.FileName"
                                           data-val="true" data-val-required="@Resource.FileNameRequired" id="DocumentDetail_FileName" name="DocumentDetail.FileName" />
                                    <span class="field-validation-error" data-valmsg-for="DocumentDetail.FileName" data-valmsg-replace="true"></span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-push-2 col-sm-10">
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                <label class="control-label required">@Resource.DocumentKind</label>
                            </div>
                            <div class="col-sm-8">
                                <div class="col-md-8">
                                    <select class="form-control input-sm" data-ng-options="item.Value as item.Name for item in DocumentationTypeList" data-ng-model="DocumentDetail.KindOfDocument"
                                            data-val="true" data-val-required="@Resource.DocumentationTypeRequired" id="DocumentDetail_KindOfDocument" name="DocumentDetail.KindOfDocument">
                                        <option value="">@Resource.Select</option>
                                    </select>
                                    <span class="field-validation-error" data-valmsg-for="DocumentDetail.KindOfDocument" data-valmsg-replace="true"></span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-push-2 col-sm-10" data-ng-if="IsTimeBased">
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                <label class="control-label">@Resource.ExpirationDate</label>
                            </div>
                            <div class="col-sm-8">
                                <div class="col-md-8">
                                    @*<div class="input-group date date-picker pull-right" datepicker="DocumentDetail.ExpirationDate" ng-dateval="DocumentDetail.ExpirationDate">
                                            <input class="form-control input-sm" maxlength="10" placeholder="@Resource.DateFormat"
                                                   data-val="true" data-val-required="@Resource.ExpirationDateRequired" id="DocumentDetail_ExpirationDate" name="DocumentDetail.ExpirationDate" />
                                            <span class="input-group-addon" style="padding:4px 8px;"><i class="fa fa-calendar"></i></span>
                                        </div>
                                        <span class="field-validation-error" data-valmsg-for="DocumentDetail.ExpirationDate" data-valmsg-replace="true"></span>*@
                                    <div class="input-group date date-picker pull-right" datepicker="DocumentDetail.ExpirationDate" data-ng-dateval="DocumentDetail.ExpirationDate">
                                        <input class="form-control input-sm" maxlength="10" placeholder="@Resource.DateFormat" />
                                        <span class="input-group-addon" style="padding: 4px 8px;"><i class="fa fa-calendar"></i></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <button type="button" class="btn btn-danger" data-dismiss="modal" data-ng-click="CloseEditDocument()">@Resource.Cancel</button>@*data-ng-click="ResetReferralInternamMessage()"*@
                            <button type="submit" data-ng-click="SaveDocument(DocumentDetail)" class="btn green-jungle">@Resource.Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="FormNameModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-ng-click="CloseEditDocument()"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="H1"><span>@Resource.FormName</span></h4>
            </div>
            <div class="modal-body">
                <form id="frmFormName">
                    <div class="row">
                        <div class="form-group col-md-push-2 col-sm-10">
                            <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                <label class="control-label required">@Resource.FormName</label>
                            </div>
                            <div class="col-sm-8">
                                <div class="col-md-8">
                                    <input class="form-control input-sm" maxlength="500"
                                           data-ng-model="Form.FormName"
                                           @*value="{{FormName}}_{{CurrentDate | date : 'MMddy'}}"*@
                                           data-val="true" data-val-required="@Resource.FormNameRequired" id="Form_FormName" name="Form.FormName" />
                                    <span class="field-validation-error" data-valmsg-for="Form.FormName" data-valmsg-replace="true"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <button type="button" class="btn btn-danger" data-dismiss="modal" data-ng-click="CloseEditDocument()">@Resource.LeaveAsItIs</button>@*data-ng-click="ResetReferralInternamMessage()"*@
                            <button type="submit" data-ng-click="SaveFormName(Form)" class="btn green-jungle">@Resource.Update</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="GetFileFromGoogle" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-ng-click="CloseEditDocument()"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="H1"><span>Select Document to Add</span></h4>
            </div>
            <div class="modal-body">
                <div id="frmDocumentListGoogleDrive">
                    <div class="row">
                        <div class="form-group col-sm-12">
                            <div class="table-responsive tabbable-custom form-table-overflow">
                                <table class="table table-bordered table-striped table-condensed flip-content">
                                    <tr>
                                        <th>Document Name</th>
                                        <th>Document Type</th>
                                        <th>Options</th>
                                    </tr>
                                    <tr ng-repeat="item in DocumentListGoogleDrive" ng-if="item.mimeType != 'application/vnd.google-apps.folder'">
                                        <td>{{item.name}}</td>
                                        <td class="text-center"><i ng-class="filterIcons(item.mimeType)"></i></td>
                                        <td>
                                            <button type="button" class="btn green-jungle btn-sm"
                                                    data-ng-click="SaveDocumentFromGoogleDrive(item.id)"
                                                    data-primary-id="EmployeeID"
                                                    data-extra-value="ComplianceID">
                                                Add to Documents
                                            </button>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">
                            <button type="button" class="btn btn-danger" data-dismiss="modal" data-ng-click="CloseEditDocument()">@Resource.Cancel</button>@*data-ng-click="ResetReferralInternamMessage()"*@
                            <button type="submit" data-ng-click="SaveDocument(DocumentDetail)" class="btn green-jungle">@Resource.Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>





<!-- ADD Email MODAL STARTS-->
@*@Html.BeginForm("SendReferralAttachment", "Referral", FormMethod.Post)
    {*@
<div class="modal fade sendEmail" id="sendemail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="font-family:Open Sans" ,sans-serif">
    <div class="modal-dialog" role="document" style="width:784px;">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#efefef">
                <button type="button" class="close" data-dismiss="modal" ng-click="Reset()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="H1"><span style="color:#178fe2"><i class="fa fa-envelope"></i>&nbsp;&nbsp;Send Email</span></h4>
                <div class="pull-right" style="position: absolute;top: 16px;right: 43px;">
                    <label class="control-label">Template:</label>
                    <select name="templates" id="templates1" style="width: 143px;border: 0px;outline: 0px;" ng-change="GetTemplateDetails()" ng-model="EmailTemplate">
                        <option value="0">Select Template</option>
                        <option ng-repeat="data in TemplateList" ng-selected="EmailTemplate == data.EmailTemplateID" value="{{data.EmailTemplateID}}">{{data.EmailTemplateName}} </option>
                    </select>
                </div>
            </div>
            <div class="modal-body">
                <form name="frmCertificate" id="frmCertificate">
                    <div class="row">
                        <div class="col-sm-12">

                            <div class="row" style="border-bottom:1px solid #efefef;">
                                <div class="form-group col-sm-12">
                                    <div class="row">
                                        <div class="col-sm-1">
                                            <label class="control-label">From:</label>
                                        </div>
                                        <div class="col-sm-4">
                                            <i class="fa fa-user" style="font-size:18px;" aria-hidden="true"></i><select name="templates" id="FromTo" style="border: 0px;outline: 0px;" ng-model="OrganizationSettings">
                                                <option value="0">Select Email</option>
                                                <option ng-repeat="data in OrganizationSettingList" ng-selected="OrganizationSettings == data.FromEmail" value="{{data.FromEmail}}">{{data.FromEmail}} </option>
                                            </select>
                                        </div>
                                        <div class="col-sm-4">
                                            <div data-ng-if="!IsFileUploading" class="fileUpload ">
                                                <span><i class="fa fa-paperclip" style="padding-right: 8px;font-size: 16px;"></i> Attach</span>

                                                <div>
                                                    <div class="">
                                                        <input id="EmailAttachment" type="file" name="ResourceFile" multiple class="upload" value="Browse" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <input type="checkbox" ng-model="EmployeeEmail" ng-change="GetEmployeeEmail()"> CC to myself
                                        </div>

                                        <div class="col-sm-12" style="margin-top: 7px;" id="AttachedList">
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <br />

                            <div class="row">
                                <div class="form-group col-sm-12">
                                    <div class="row">
                                        <div class="col-sm-1">
                                            <label class="control-label">To:</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" id="tagsinputTo" data-role="tagsinput" class="form-control requiredStrip tagsinputTo" placeholder="" ng-model="MailModel.To" />
                                        </div>
                                        <div class="col-sm-3">
                                            <a href="#" tooltip title="Add recipient" data-toggle="modal" data-target="#ReferralContact" ng-click="GetReferralAttachment()">Add recipient</a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group col-sm-12">
                                    <div class="row">
                                        <div class="col-sm-1">
                                            <label class="control-label">CC:</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" id="tagsinputCC" class="form-control input-sm " placeholder="" ng-model="MailModel.CC" />
                                        </div>
                                        <div class="col-sm-3">

                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-sm-12">
                                    <div class="row">
                                        <div class="col-sm-1">
                                            <label class="control-label">BCC:</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" id="tagsinputBCC" class="form-control input-sm" placeholder="" ng-model="MailModel.BCC" />
                                        </div>
                                        <div class="col-sm-3">

                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group col-sm-12">
                                    <div class="row">
                                        <div class="col-sm-1">
                                            <label class="control-label">Subject:</label>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" id="txtSubject" value="{{GetSubject}}" class="form-control input-sm" placeholder="" maxlength="100" ng-model="MailModel.Subject" />
                                        </div>
                                        <div class="col-sm-3">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group col-sm-12">
                                    <div class="row">
                                        <div class="col-sm-1">
                                        </div>
                                        <div class="col-sm-11">


                                            <textarea class="dirSummerNoteEditor form-control error_summer_note ng-pristine ng-untouched ng-valid ng-isolate-scope" cols="20" data-ng-model="MailModel.Body" id="EmailBody" min-height="200" name="" rows="2"></textarea>
                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </form>

            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-sm-12 text-center">
                        <button class="btn" data-dismiss="modal" ng-click="Reset()">Close</button>
                        <button type="submit" data-ng-click="SendReferralAttachment()" class="btn"><i class="fa fa-envelope"></i>&nbsp;&nbsp;Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--ADD Email MODAL ENDS-->
<div class="modal fade ReferralContact" id="ReferralContact" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="font-family:Open Sans" ,sans-serif">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <h4>Add recipient</h4>
                <br />
                <label>Search: <input ng-model="searchText"></label>
                <br />
                <br />
                <table id="searchObjResults">
                    <tr data-ng-repeat="referral in ReceipentList |filter:searchText ">
                        <td>
                            <span><input type="checkbox" class="unicheckbox text-align-center" data-ng-model="referral.IsChecked" data-ng-change="SelectReferral(referral)" val="referral.IsChecked"> </span>
                            <span>{{referral.Name}} &nbsp; </span>
                        </td>
                        <td>
                            {{referral.Email}}
                        </td>
                    </tr>
                </table>
                <br />

            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-sm-12 text-center">
                        <button data-ng-click="AddEmail(referral)">Add</button>
                        @*<button class="btn" data-dismiss="modal">Close</button>*@
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<div class="modal fade sendFax" id="sendFax" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" style="font-family:Open Sans" ,sans-serif">
    <div class="modal-dialog" role="document" style="width:784px;">
        <div class="modal-content">
            <div class="modal-header" style="background-color:#efefef">
                <button type="button" class="close" data-dismiss="modal" ng-click="Reset()" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="H1"><span style="color:#178fe2"><i class="fa fa-envelope"></i>&nbsp;&nbsp;Send Fax</span></h4>

            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="col-sm-12 email-id-row">
                        <span class="to-input">To</span>
                        <div class="all-mail">

                        </div>
                        <input type="text" id="txtFaxTo" name="email" data-ng-model="FaxModel.To" class="enter-mail-id" placeholder="Enter Fax No" />
                    </div>


                </div>

            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-sm-12 text-center">
                        <button class="btn" data-dismiss="modal" ng-click="Reset()">Close</button>
                        <button type="submit" data-ng-click="SendFax()" class="btn"><i class="fa fa-envelope"></i>&nbsp;&nbsp;Send</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script id="formdetailpopover" type="text/ng-template">
    <div>{{commonDetailPopover.FileName}}</div>
    <div ng-show="commonDetailPopover.FormName!=null">{{commonDetailPopover.FormName}}_{{commonDetailPopover.UpdatedDate|orgdatetime}}</div>
</script>

<style>
    <style > * {
        box-sizing: border-box
    }


    /* Style the tab */
    .tab {
        float: right;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
        width: 30%;
        height: 300px;
    }

        /* Style the buttons inside the tab */
        .tab button {
            display: block;
            background-color: inherit;
            color: black;
            padding: 5px 16px;
            width: 100%;
            border: none;
            outline: none;
            text-align: left;
            cursor: pointer;
            transition: 0.3s;
            font-size: 13px;
        }

            /* Change background color of buttons on hover */
            .tab button:hover {
                background-color: #ddd;
            }

            /* Create an active/current "tab button" class */
            .tab button.active {
                background-color: #ccc;
            }

    /* Style the tab content */
    .tabcontent {
        float: left;
        padding: 0px 12px;
        width: 70%;
        border-left: none;
        height: 300px;
    }
</style>







<script>
    function openCity(evt, cityName) {
        debugger;
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(cityName).style.display = "block";
        evt.currentTarget.className += " active";
    };

    // Get the element with id="defaultOpen" and click on it
   // document.getElementById("defaultOpen").click();

</script>

@*<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap.tagsinput/0.4.2/bootstrap-tagsinput.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/bootstrap.tagsinput/0.4.2/bootstrap-tagsinput.min.js"></script>*@
<style>
    .custom_switch {
        width: 100px !important;
    }

    span.email-ids {
        float: left;
        /* padding: 4px; */
        border: 1px solid #ccc;
        margin-right: 5px;
        padding-left: 10px;
        padding-right: 10px;
        margin-bottom: 5px;
        background: #f5f5f5;
        padding-top: 3px;
        padding-bottom: 3px;
        border-radius: 5px;
    }

    span.cancel-email {
        border: 1px solid #ccc;
        width: 18px;
        display: block;
        float: right;
        text-align: center;
        margin-left: 20px;
        border-radius: 49%;
        height: 18px;
        line-height: 15px;
        margin-top: 1px;
        cursor: pointer;
    }

    .col-sm-12.email-id-row {
        border: 1px solid #ccc;
    }

        .col-sm-12.email-id-row input {
            border: 0px;
            outline: 0px;
        }

    span.to-input {
        display: block;
        float: left;
        padding-right: 11px;
    }

    .col-sm-12.email-id-row {
        padding-top: 6px;
        padding-bottom: 7px;
        margin-top: 23px;
    }
</style>
